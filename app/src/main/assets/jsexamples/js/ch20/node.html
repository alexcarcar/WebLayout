<!DOCTYPE html>
<html>
<head>
    <title>jQuery</title>
    <link rel="stylesheet" type="text/css" href="../common.css">
    <meta charset="utf-8">
</head>
<body>
<a href="../../jsexamples.html">GO BACK</a>
<br/> &nbsp; <br/>
<label>Keywords</label>: server-side, DOM, modules, namespace, collisions, core modules, file
modules, npm modules, node_modules, custom modules, function modules, filesystem access, process,
exist code, operating system, child processes, streams, piping, web servers
<h1>Definitions</h1>
<ul>
    <li>In 2009, <label>Joyent</label> developer <label>Ryan Dahl</label> created
        <label>Node</label></li>
    <li>In particular, in <label>Node</label> there is no <label>DOM</label></li>
</ul>
<h1>Modules</h1>
<ul>
    <li><label>Modules</label> are a mechanism for packaging and <label>namespacing</label> code
    </li>
    <li>To <label>export</label> modules add at the end of the module file:<code>module.exports =
        functionName;</code></li>
    <li>To <label>import</label> modules in the main program:<code>const alias =
        require('./file.js');</code></li>
    <li>Exports typically contain <label>multiple functions</label>:<code>module.exports =
        {function1, function2...};</code></li>
</ul>
<h1>Core Modules, File Modules, and npm Modules</h1>
<ul>
    <li><label>Core</label> Doesn't start with /, ./, or ../ <code>require('fs'); require('os');
        require('http') require('child_process')</code></li>
    <li><label>File</label> Starts with /, ./, or ../ <code>require(./debug.js);
        require('../a.js');</code></li>
    <li><label>npm</label> Not a core module and doesn't start with /, ./, or ../ <code>require('debug');
        require('express'); require('chalk'); require('koa'); require('q');</code></li>
</ul>
<h1>Core Modules</h1>
<ul>
    <li>Some modules are <label>global</label> and do not need an explicit <label>require</label>
        statement: <label>buffer, stream, url</label></li>
    <li><label>assert</label> Used for testing purposes</li>
    <li><label>buffer</label> <code>global</code> For input/output (I/O) operations (primarily file
        and network)
    </li>
    <li><label>child_process</label> Functions for running external programs (Node and otherwise)
    </li>
    <li><label>cluster</label> Allows you to take advantage of multiple processes for performance
    </li>
    <li><label>crypto</label> Built-in cryptography libraries</li>
    <li><label>dns</label> Domain name system (DNS) functions for network name resolution</li>
    <li><label>domain</label> Allows grouping of I/O and other asynchronous operations to isolate
        errors
    </li>
    <li><label>events</label> Utilities to support asynchronous events</li>
    <li><label>fs</label> Filesystem operations</li>
    <li><label>http</label> HTTP server and related utilities</li>
    <li><label>https</label> HTTPS server and related utilities</li>
    <li><label>net</label> Asynchronous socket-based network API</li>
    <li><label>os</label> Operating system utilities</li>
    <li><label>path</label> Filesystem pathname utilities</li>
    <li><label>punycode</label> Encoding of Unicode using a limited ASCII subset</li>
    <li><label>queryString</label> Utilities for parsing and constructing URL querystrings</li>
    <li><label>readline</label> Interactive I/O utilities; primarily used for command-line programs
    </li>
    <li><label>smalloc</label> Allows for explicit allocation of memory for buffers</li>
    <li><label>stream</label> <code>global</code> Stream-based data transfer</li>
    <li><label>string_decoder</label> Converts buffers to strings</li>
    <li><label>tls</label> Transport Layer Security (TLS) communication utilities</li>
    <li><label>tty</label> Low-level TeleTYpewritter (TTY) functions</li>
    <li><label>dgram</label> User Datagram Protocol (UDP) networking utilities</li>
    <li><label>url</label> <code>global</code> URL parsing utilities</li>
    <li><label>util</label> Internal Node utilities</li>
    <li><label>vm</label> Virtual (JavaScript) Machine; allows for metaprogramming and context
        creation
    </li>
    <li><label>zlib</label> Compression utilities</li>
</ul>
<h1>npm modules</h1>
<ul>
    <li><label>Node</label> will look in a subdirectory called <label>node_modules</label></li>
    <li><label>node_modules</label> are re-created by <label>npm</label> from the dependencies
        listed in <label>package.json</label></li>
</ul>
<h1>Customizing Modules with Function Modules</h1>
<ul>
    <li><label>Modules</label> most commonly export <label>objects</label>, and sometimes a single
        <label>function</label></li>
    <li>Another common <label>pattern</label> is to export a function that needs to be <label>invoked
        immediately</label></li>
    <li>For example, when you import <label>debug</label>, it takes a string as a log prefix: <code><br/>const
        debug = require('debug')('main');<br/>debug("starting");</code></li>
</ul>
<h1>Filesystem Access</h1>
<ul>
    <li>To create a file use <label>require('fs')</label> and <label>fs.writeFile(file,string,f(err))</label>
    </li>
    <li>To read a file use:<code>fs.readFile(file,f(err,data));</code></li>
    <li>To read <label>utf8 "text"</label> use:<code>fs.readFile(file,{encoding:'utf8'},f(err,data));</code>
    </li>
</ul>
<h1>Process</h1>
<ul>
    <li>Every <label>Node</label> program has access to a variable <label>process</label> that
        allows it get information about--and control--its own execution
    </li>
    <li>For instance if a <label>fatal error</label> execution can stop
        using:<code>process.exit</code></li>
    <li>An <label>exit code</label> can be used to pass information to callers:<code>process.exit(2);</code>
    </li>
    <li>To get array of <label>command-line arguments</label> use:<code>process.argv</code>
</ul>
<h1>Code</h1>
<ul>
    <li>Page 282:
        <a href="app.js">app.js</a>
        (<a href="alexCalculate.js">alexCalculate.js</a>,
        <a href="simonCalculate.js">simonCalculate.js</a>),
        <a href="mathLibrary.js">mathLibrary.js</a>
    </li>
    <li>Page 287: Custom Debug IIF <a href="287_app.js">app.js</a> (<a href="myDebugLogger.js">myDebugLogger.js</a>)
    </li>
    <li>Page 289: <a href="289_files.js">Reading and Writing Files</a></li>
    <li>Page 292: <a href="292_exitCodes.js">Process Exit Codes</a></li>
    <li>Page 292: <a href="292_arguments.js">Process Arguments (Find # of Lines in Files)</a></li>
</ul>
</body>
</html>